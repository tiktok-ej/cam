<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Camera Review</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background: black;
    overflow: hidden;
  }
  video {
    width: 100vw;
    height: 100vh;
    object-fit: cover;
  }
  .follow-btn {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255,255,255,0.15);
    color: white;
    font-family: sans-serif;
    font-size: 18px;
    padding: 14px 28px;
    border-radius: 999px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    user-select: none;
  }
</style>
</head>
<body>
<video id="camera" autoplay playsinline></video>
<div class="follow-btn" id="flipBtn">FOLLOW</div>

<script>
const video = document.getElementById('camera');
const flipBtn = document.getElementById('flipBtn');
let currentFacing = "environment";
let stream = null;

async function startCamera() {
  if (stream) stream.getTracks().forEach(t => t.stop());

  try {
    stream = await navigator.mediaDevices.getUserMedia({
      video: {
        facingMode: currentFacing,
        width: { ideal: 1920 },
        height: { ideal: 1080 }
      },
      audio: false
    });
    video.srcObject = stream;
  } catch (e) {
    console.error(e);
  }
}

function flipCamera() {
  currentFacing = currentFacing === "user" ? "environment" : "user";
  startCamera();
}

flipBtn.addEventListener("click", flipCamera);

startCamera();
</script>
</body>
</html>
